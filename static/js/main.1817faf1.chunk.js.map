{"version":3,"sources":["scss/modules/slider.module.scss","scss/modules/ratingStar.module.scss","scss/modules/switch.module.scss","img/slider01.jpg","img/slider02.jpg","img/slider03.jpg","components/EditableRatingStar.tsx","components/RatingStar.tsx","components/Slider.tsx","components/EditableSlider.tsx","components/Switch.tsx","pages/Home.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","RatingStar","props","number","rating","integer","Math","floor","className","mod","ratingStar02","onTouchEnd","e","changeRating","preventDefault","onClick","active","undefined","num","decimal","adjustedDecimal","ratingStar01","style","width","timeout","ms","Promise","resolve","setTimeout","Slider","initialState","images","useState","src","setSrc","eyecatch","useRef","slideImg","a","current","classList","remove","eyecatchActive","add","slider01","ref","alt","thumbnails","map","img","thumbnailActive","key","EditableSlider","initialEyecatchState","length","hasEyecatch","setHasEyecatch","removeImage","index","copyImages","concat","splice","setState","newIndex","slider01_editable","showEyecatch","input","onDragOver","currentTarget","drag","onDragLeave","onDrop","type","onChange","target","files","imagesCopy","i","reader","FileReader","file","onload","this","result","push","toString","readAsDataURL","setImage","showInput","Switch","state","switchState","prev","classes","switch01","ball","Home","id","slider02","slider03","EditableRatingStar","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1817faf1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider01\":\"slider_slider01__1Jedr\",\"eyecatch\":\"slider_eyecatch__29dtS\",\"eyecatchActive\":\"slider_eyecatchActive__2StEn\",\"thumbnails\":\"slider_thumbnails__vyuaf\",\"thumbnailActive\":\"slider_thumbnailActive__2W3Yy\",\"input\":\"slider_input__1hc2d\",\"drag\":\"slider_drag__emvih\",\"slider01_editable\":\"slider_slider01_editable__1JeY5\",\"remove\":\"slider_remove__19IR2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ratingStar01\":\"ratingStar_ratingStar01__L3KFR\",\"active\":\"ratingStar_active__PZOO6\",\"num\":\"ratingStar_num__1P0z5\",\"ratingStar02\":\"ratingStar_ratingStar02__QcaBB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch01\":\"switch_switch01__2IDmt\",\"ball\":\"switch_ball__3AnAE\",\"active\":\"switch_active__3Pokn\"};","module.exports = __webpack_public_path__ + \"static/media/slider01.521b16f7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/slider02.c97a47a1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/slider03.21341982.jpg\";","import React from 'react';\r\nimport mod from \"../scss/modules/ratingStar.module.scss\"\r\n\r\ntype props = {\r\n  rating: number,\r\n  changeRating: (rating: number) => void\r\n}\r\nconst RatingStar: React.FC<props> = (props) => {\r\n  const number = props.rating\r\n  const integer = Math.floor(number) // ratingの整数部分\r\n  return (\r\n    <div className={mod.ratingStar02}>\r\n      <span\r\n        onTouchEnd={(e) => {\r\n          props.changeRating(1)\r\n          e.preventDefault()\r\n        }}\r\n        onClick={() => props.changeRating(1)}\r\n      >\r\n        <span>★</span>\r\n        <span className={integer >= 1 ? mod.active : undefined}>★</span>\r\n      </span>\r\n      <span\r\n        onTouchEnd={(e) => {\r\n          props.changeRating(2)\r\n          e.preventDefault()\r\n        }}\r\n        onClick={() => props.changeRating(2)}\r\n      >\r\n        <span>★</span>\r\n        <span className={integer >= 2 ? mod.active : undefined}>★</span>\r\n      </span>\r\n      <span\r\n        onTouchEnd={(e) => {\r\n          props.changeRating(3)\r\n          e.preventDefault()\r\n        }}\r\n        onClick={() => props.changeRating(3)}\r\n      >\r\n        <span>★</span>\r\n        <span className={integer >= 3 ? mod.active : undefined}>★</span>\r\n      </span>\r\n      <span\r\n        onTouchEnd={(e) => {\r\n          props.changeRating(4)\r\n          e.preventDefault()\r\n        }}\r\n        onClick={() => props.changeRating(4)}\r\n      >\r\n        <span>★</span>\r\n        <span className={integer >= 4 ? mod.active : undefined}>★</span>\r\n      </span>\r\n      <span\r\n        onTouchEnd={(e) => {\r\n          props.changeRating(5)\r\n          e.preventDefault()\r\n        }}\r\n        onClick={() => props.changeRating(5)}\r\n      >\r\n        <span>★</span>\r\n        <span className={integer >= 5 ? mod.active : undefined}>★</span>\r\n      </span>\r\n      <p className={mod.num}>{number}</p>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default RatingStar\r\n","import React from 'react';\r\nimport mod from \"../scss/modules/ratingStar.module.scss\"\r\n\r\ntype props = {\r\n  rating: number\r\n}\r\nconst RatingStar: React.FC<props> = (props) => {\r\n  const number = props.rating\r\n  const integer = Math.floor(number) // ratingの整数部分\r\n  const decimal = (number - integer) // ratingの小数部分\r\n  const adjustedDecimal = decimal === 0 ? 0 : 0.5 + (decimal - 0.5) * 0.5 // 小数部分を見えやすくするために調節\r\n  return (\r\n    <div className={mod.ratingStar01}>\r\n      <span>\r\n        <span>★</span>\r\n        <span className={integer >= 0 ? mod.active : undefined}>★</span>\r\n      </span>\r\n      <span>\r\n        <span>★</span>\r\n        <span className={integer >= 1 ? mod.active : undefined} style={integer === 1 ? { width: adjustedDecimal * 100 + \"%\" } : undefined}>★</span>\r\n      </span>\r\n      <span>\r\n        <span>★</span>\r\n        <span className={integer >= 2 ? mod.active : undefined} style={integer === 2 ? { width: adjustedDecimal * 100 + \"%\" } : undefined}>★</span>\r\n      </span>\r\n      <span>\r\n        <span>★</span>\r\n        <span className={integer >= 3 ? mod.active : undefined} style={integer === 3 ? { width: adjustedDecimal * 100 + \"%\" } : undefined}>★</span>\r\n      </span>\r\n      <span>\r\n        <span>★</span>\r\n        <span className={integer >= 4 ? mod.active : undefined} style={integer === 4 ? { width: adjustedDecimal * 100 + \"%\" } : undefined}>★</span>\r\n      </span>\r\n      <p className={mod.num}>{number}</p>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default RatingStar\r\n","import React, { useState, useRef } from 'react'\r\nimport mod from \"../scss/modules/slider.module.scss\"\r\n\r\nconst timeout = (ms: number): Promise<void> => {\r\n  return new Promise<void>(resolve => setTimeout(resolve, ms))\r\n}\r\n\r\ntype props = {\r\n  images: string[]\r\n}\r\n\r\nconst Slider: React.FC<props> = (props: props) => {\r\n  const initialState = props.images[0]\r\n  const [src, setSrc] = useState(initialState)\r\n  const eyecatch = useRef<HTMLDivElement | null>(null)\r\n  async function slideImg(src: string) {\r\n    const current = eyecatch.current\r\n    if (current) {\r\n      current.classList.remove(mod.eyecatchActive)\r\n      await timeout(230)\r\n      setSrc(src)\r\n      current.classList.add(mod.eyecatchActive)\r\n    }\r\n  }\r\n  return (\r\n    <div className={mod.slider01}>\r\n      <div className={mod.eyecatch + \" \" + mod.eyecatchActive} ref={eyecatch}>\r\n        <img src={src} alt=\"\" />\r\n      </div>\r\n      <ul className={mod.thumbnails}>\r\n        {props.images.map((img) => {\r\n          return (\r\n            <li className={img === src ? mod.thumbnailActive : undefined} key={img} onTouchEnd={(e) => { e.preventDefault(); slideImg(img) }} onClick={() => { slideImg(img) }}>\r\n              <img src={img} alt=\"\" />\r\n            </li>\r\n          )\r\n        }\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Slider\r\n","import React, { useState, useRef } from 'react'\r\nimport mod from \"../scss/modules/slider.module.scss\"\r\n\r\nconst timeout = (ms: number): Promise<void> => {\r\n  return new Promise<void>(resolve => setTimeout(resolve, ms))\r\n}\r\n\r\ntype props = {\r\n  images: string[],\r\n  setState: (value: string[]) => void\r\n}\r\n\r\nconst EditableSlider: React.FC<props> = (props: props) => {\r\n  // FIXME: eyecatchの状態管理は下のhasEyecatchと統一したい\r\n  const initialState = props.images[0] || \"\"\r\n  const [src, setSrc] = useState(initialState)\r\n\r\n  // propsで画像を受け取っていればEyecatchを表示する\r\n  const initialEyecatchState =\r\n    src.length > 0 ?\r\n      true : false\r\n\r\n  // eyecath表示非表示の状態管理\r\n  const [hasEyecatch, setHasEyecatch] = useState(initialEyecatchState)\r\n  const eyecatch = useRef<HTMLDivElement | null>(null)\r\n\r\n  // サムネイルクリック時の処理。\r\n  // アニメーションのために0.23秒間をあけてる。\r\n  async function slideImg(src: string) {\r\n    const current = eyecatch.current\r\n    if (current) {\r\n      current.classList.remove(mod.eyecatchActive)\r\n      await timeout(230)\r\n      setSrc(src)\r\n      current.classList.add(mod.eyecatchActive)\r\n    }\r\n  }\r\n\r\n  // 画像削除の処理\r\n  async function removeImage(index: number) {\r\n    // propsのコピーをとってそっちを編集する\r\n    let copyImages = props.images.concat()\r\n    copyImages.splice(index, 1)\r\n    // setStateは非同期処理っぽいのでawaitなしだと\r\n    // 後述のprops.images[newIndex]の値が意図したものにならない\r\n    await props.setState(copyImages)\r\n\r\n    // 画像を削除した後に表示させる画像を指定する。\r\n    let newIndex: number\r\n    if (index === 0) {\r\n      newIndex = 1\r\n    } else {\r\n      newIndex = index - 1\r\n    }\r\n\r\n    if (copyImages.length === 0) {\r\n      setHasEyecatch(false)\r\n    }\r\n    else {\r\n      slideImg(props.images[newIndex])\r\n    }\r\n  }\r\n\r\n  // input:fileの処理\r\n  const setImage = (files: FileList) => {\r\n    let imagesCopy = props.images.concat()\r\n    for (let i = 0; i < files.length; i++) {\r\n      const reader = new FileReader()\r\n      const file = files[i]\r\n      reader.onload = function () {\r\n        if (this.result) {\r\n          imagesCopy.push(this.result.toString())\r\n          props.setState(imagesCopy)\r\n          // 最初のアップロードの場合(imagesCopy.length === 1)\r\n          //アイキャッチをアップロードした画像に変更\r\n          if (imagesCopy.length === 1) {\r\n            slideImg(this.result.toString())\r\n            setHasEyecatch(true)\r\n          }\r\n        }\r\n      }\r\n      reader.readAsDataURL(file)\r\n    }\r\n  }\r\n\r\n  const showEyecatch = () => {\r\n    if (hasEyecatch) {\r\n      return (\r\n        <img src={src} alt=\"\" />\r\n      )\r\n    }\r\n  }\r\n\r\n  const showInput = () => {\r\n    // 画像が3枚より少ない場合アップロード用のフィールドを表示する\r\n    if (props.images.length !== 3) {\r\n      return (\r\n        <li className={mod.input}>\r\n          <label\r\n            onDragOver={e => {\r\n              e.currentTarget.classList.add(mod.drag)\r\n            }}\r\n            onDragLeave={e => {\r\n              e.currentTarget.classList.remove(mod.drag)\r\n            }}\r\n            onDrop={e => {\r\n              e.currentTarget.classList.remove(mod.drag)\r\n            }}\r\n          >\r\n            <input type=\"file\"\r\n              onChange={e => {\r\n                if (e.target.files) setImage(e.target.files)\r\n              }}\r\n            />\r\n            <span>画像を追加</span>\r\n          </label>\r\n        </li>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={mod.slider01 + \" \" + mod.slider01_editable}>\r\n      <div className={mod.eyecatch + \" \" + mod.eyecatchActive} ref={eyecatch}>\r\n        {showEyecatch()}\r\n      </div>\r\n      <ul className={mod.thumbnails}>\r\n        {props.images.map((img, index) => {\r\n          return (\r\n            <li className={img === src ? mod.thumbnailActive : undefined} key={img} onTouchEnd={(e) => { e.preventDefault(); slideImg(img) }} onClick={() => { slideImg(img) }}>\r\n              <img src={img} alt=\"\" />\r\n              <div\r\n                className={mod.remove}\r\n                onTouchEnd={e => {\r\n                  e.preventDefault()\r\n                  removeImage(index)\r\n                }}\r\n                onClick={() => {\r\n                  removeImage(index)\r\n                }}\r\n              >\r\n              </div>\r\n            </li>\r\n          )\r\n        }\r\n        )}\r\n        {showInput()}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditableSlider\r\n","import React, { useState } from \"react\"\r\nimport mod from \"../scss/modules/switch.module.scss\"\r\n\r\nconst Switch: React.FC = () => {\r\n  const [state, setState] = useState(false)\r\n  const switchState = () => {\r\n    setState(prev => {\r\n      return !prev\r\n    })\r\n  }\r\n  const classes = state ?\r\n    mod.switch01 + \" \" + mod.active :\r\n    mod.switch01\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className={classes}\r\n        onClick={e => switchState()}\r\n        onTouchEnd={\r\n          e => {\r\n            e.preventDefault()\r\n            switchState()\r\n          }\r\n        }\r\n      >\r\n        <div className={mod.ball}></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Switch\r\n","import React, { useState } from 'react'\r\nimport slider01 from \"../img/slider01.jpg\"\r\nimport slider02 from \"../img/slider02.jpg\"\r\nimport slider03 from \"../img/slider03.jpg\"\r\nimport EditableRatingStar from '../components/EditableRatingStar'\r\nimport RatingStar from '../components/RatingStar'\r\nimport Slider from '../components/Slider'\r\nimport EditableSlider from '../components/EditableSlider'\r\nimport Switch from '../components/Switch'\r\n\r\nconst Home: React.FC = () => {\r\n  type state = {\r\n    rating: number\r\n    images: string[]\r\n  }\r\n  const initialState = {\r\n    rating: 0,\r\n    images: []\r\n  }\r\n  const [state, setState] = useState<state>(initialState)\r\n\r\n  const changeRating = (rating: number) => {\r\n    setState({ ...state, rating: rating })\r\n  }\r\n\r\n  const changeImages = (images: string[]) => {\r\n    setState({ ...state, images: images })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div id=\"container\">\r\n      <h2>画像ギャラリー(readonly)</h2>\r\n      <Slider images={[slider01, slider02, slider03]} />\r\n      <h2>画像ギャラリー(編集用)</h2>\r\n      <EditableSlider\r\n        images={state.images}\r\n        setState={changeImages}\r\n      />\r\n      <h2>評価とかする☆のやつ</h2>\r\n      <div className=\"flex\">\r\n        <div className=\"star1\">\r\n          <p className=\"subTit\">readonly</p>\r\n          <RatingStar\r\n            rating={3.5}\r\n          />\r\n        </div>\r\n        <div className=\"star2\">\r\n          <p>編集可能</p>\r\n          <EditableRatingStar\r\n            rating={state.rating}\r\n            changeRating={changeRating}\r\n          />\r\n        </div>\r\n      </div>\r\n      <h2>細かいパーツ</h2>\r\n      <p className=\"subTit\">iOSのアレ</p>\r\n      <Switch />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react';\nimport Home from './pages/Home'\nimport \"./scss/common.scss\"\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>フルスクラッチUI道場</h1>\n        <p className=\"lead\">いろんなUI（reactコンポーネント）を作ってムキムキになろう！</p>\n      </header>\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/reboot.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}